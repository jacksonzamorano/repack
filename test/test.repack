output postgres @test/postgres #model #view;
output typescript @test/typescript #model #view;
output rust @test/rust #model #view;
output go @test/go #model #view {
	package main
}

enum UserType #model {
	Admin
	User
	Guest
}

record User @users #model {
	id uuid db:pk
	name string
	user_type UserType
	subscription_id string?
}

record ContactInfo @contacts #model {
	id uuid db:pk
	email string
	user_id ref(User.id)
}

record FullUser: ContactInfo #view {
	*
	name from(user_id.name)
}
