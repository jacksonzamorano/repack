output description @test/ {
	print_commands false
}
output postgres @test/ #backend {
	
}

record SentEmail @sentemails #backend {
	id int32 #pk #increment
	user_id ref(User.id)
	org_id ref(Organization.id)
}

record User @users #backend {
	id int32 #pk #increment
	name string
	email string?
	password string
	last_login datetime?
	organization_id ref(Organization.id) #cascade
}

record Organization @orgs #backend {
	id int32 #pk #increment
	name string
	email string
}

struct OrganizationUser {
	organization Organization
	user User
}